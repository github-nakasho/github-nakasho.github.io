--- include/xsimd/xsimd.hpp
+++ include/xsimd/xsimd.hpp
@@ -18,8 +18,14 @@
 #define XSIMD_NO_DISCARD
 #endif
 
+#include "config/xsimd_config.hpp"
+
 #include "arch/xsimd_scalar.hpp"
 #include "memory/xsimd_aligned_allocator.hpp"
+
+#if defined(XSIMD_NO_SUPPORTED_ARCHITECTURE)
+// to type definition or anything appart from scalar definition and aligned allocator
+#else
 #include "types/xsimd_batch.hpp"
 #include "types/xsimd_batch_constant.hpp"
 #include "types/xsimd_traits.hpp"
@@ -27,3 +33,4 @@
 // This include must come last
 #include "types/xsimd_api.hpp"
 #endif
+#endif
